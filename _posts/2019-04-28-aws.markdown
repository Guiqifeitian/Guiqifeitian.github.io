---
categories: blog
title: "AWS"
date: '2019-04-28 09:19:18'
published: True
layout: post
---

#### EC2的EBS卷和实例存储卷的区别是什么？EBS卷支持动态缩容扩容么？单EBS卷最大支持多大空间？

EBS卷创建的实例支持停止和重启，且可以有多种方法恢复；实例存储卷创建的实例不支持停止和重启，一旦停止，无法恢复该实例。EBS卷支持动态扩容和缩容。单EBS卷最大支持16T空间

#### 什么是 IAM角色，为什么在EC2上最好使用IAM角色来管理对AWS服务的访问？

IAM 角色是可在账户中创建的一种具有特定权限的 IAM 身份。IAM 角色类似于 IAM 用户，可在不共享您的安全证书的情况下允许其他用户、服务和应用程序使用您的 Amazon VPC 资源。角色可提供临时权限供应用程序在调用其他AWS资源时使用。当用户启动EC2实例时，可指定要与实例关联的IAM角色。然后，实例上运行的应用程序可使用角色提供的临时凭证对API请求进行签名。

[IAM策略结构](https://docs.aws.amazon.com/zh_cn/AWSEC2/latest/UserGuide/iam-policy-structure.html)

#### 简单介绍S3中的存储桶和对象键

存储于 Amazon S3 中的每个对象都存储在存储桶中，对象键是创建对象时指定的键名称，它在存储桶中唯一地标识该对象。

[存储对象](https://docs.aws.amazon.com/zh_cn/AmazonS3/latest/dev/storage-class-intro.html)

#### 简单介绍ELB和AutoScaling

ELB是负载均衡器，包括ALB（应用负载均衡器，支持HTTP负载均衡）、NLB（网络负载均衡器、支持TCP负载均衡）、CLB（经典负载均衡器、支持HTTP和TCP负载均衡），AutoScaling是用于保证有一定数量的ec2实例，也可以动态扩展示例数量，保证在高负载的时候服务的性能。

##### 跨区域负载均衡

启用跨区域负载均衡后，流量会在各个可用区的目标之间均分，禁用后，流量先是在各个可用区的负载均衡器之间均分，再在各自的可用区之间均分。ALB始终启用夸区域负载均衡。

##### 路由算法

ALB:负载均衡器节点会按照优先级顺序评估侦听器规则以确定应用那个规则，然后使用轮询算法从目标组中选择一个目标以实施规则
NLB:根据五元组和tcp序号，使用流式哈希算法从目标组中为默认规则选择一个目标
CLB:接受请求的负载均衡器节点将利用不同算法来选择已注册的实例。它对 TCP 侦听器使用轮询路由算法，对 HTTP 和 HTTPS 侦听器使用最少未完成请求路由算法。

##### HTTP

CLB和ALB支持多路复用

[负载均衡器](https://docs.aws.amazon.com/zh_cn/elasticloadbalancing/latest/userguide/what-is-load-balancing.html)

#### VPC

创建VPC时，使用CIDR形式指定IPv4范围

##### 联网组件

###### 网络接口

就是网卡。在VPC中每个示例有一个主网络接口，及默认网络接口，无法从实例断开网络接口，但可以创建网络接口，挂载到实例。

##### 路由表

+ VPC有一个隐式路由器
+ VPC会自动生成主路由表
+ VPC中的子网会默认与主路由表建立隐式关联
+ 只能新建一个路由表替换主路由表，不能直接删除主路由表

使用最长前缀匹配流量

[VPC](https://docs.aws.amazon.com/zh_cn/vpc/latest/userguide/what-is-amazon-vpc.html)
